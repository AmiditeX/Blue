#include "databasebutton.h"
#include "ui_databasebutton.h"

DatabaseButton::DatabaseButton(QWidget *parent) :
    QWidget(parent),
    ui(new Ui::DatabaseButton)
{
    ui->setupUi(this);

    //UI connects
    QObject::connect(ui->databaseButton, SIGNAL(clicked(bool)), this, SLOT(buttonStatus()));

    //Default geometry doesn't contain the dropdown menu
    setGeometry(ui->databaseButton->geometry());
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///                                                       PUBLIC SLOTS                                                               //
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//Drop the menu for settings and deletion
void DatabaseButton::dropMenu()
{
    QPropertyAnimation animation(this, "geometry");
    animation.setDuration(800);
    animation.setStartValue(this->geometry());
    animation.setEndValue(QRect(0, 0, 230, 150));
    animation.start();
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///                                                       PUBLIC SLOTS                                                               //
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///                                                       PRIVATE SLOTS                                                              //
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//Switch the blue square status
void DatabaseButton::buttonStatus()
{
    if(ui->buttonColor_1->isVisible())
    {
        ui->buttonColor_1->setVisible(false);
    }
    else
    {
        ui->buttonColor_1->setVisible(true);
    }
}

/// ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///                                                       PRIVATE SLOTS                                                              //
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

DatabaseButton::~DatabaseButton()
{
    delete ui;
}
